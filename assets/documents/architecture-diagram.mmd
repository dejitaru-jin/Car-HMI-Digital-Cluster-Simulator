flowchart TB
    subgraph "Presentation Layer (Pygame)"
        UI[Main UI Loop]
        RPM[RPM Gauge]
        Speed[Speed Gauge]
        Fuel[Fuel Gauge]
        Clock[Clock Widget]
        Media[Media Widget]
        Messages[Messages Widget]
    end
    
    subgraph "Communication Layer"
        DS1[Data Source]
        DS2[Data Source]
        DS3[Data Source]
        DS4[Data Source]
        DS5[Data Source]
        DS6[Data Source]
    end
    
    subgraph "Data Layer (Emulators)"
        RPME[RPM Emulator]
        SpeedE[Speed Emulator]
        FuelE[Fuel Emulator]
        ClockE[Clock Emulator]
        MediaE[Media Emulator]
        MessagesE[Messages Emulator]
    end

    UI --> RPM & Speed & Fuel & Clock & Media & Messages
    
    RPM --> DS1
    Speed --> DS2
    Fuel --> DS3
    Clock --> DS4
    Media --> DS5
    Messages --> DS6
    
    DS1 <-.TCP Socket.-> RPME
    DS2 <-.TCP Socket.-> SpeedE
    DS3 <-.TCP Socket.-> FuelE
    DS4 <-.TCP Socket.-> ClockE
    DS5 <-.TCP Socket.-> MediaE
    DS6 <-.TCP Socket.-> MessagesE
    
    classDef component fill:#f9f,stroke:#333,stroke-width:2px;
    classDef dataSource fill:#bbf,stroke:#33f,stroke-width:1px;
    classDef emulator fill:#bfb,stroke:#3f3,stroke-width:1px;
    
    class RPM,Speed,Fuel,Clock,Media,Messages component;
    class DS1,DS2,DS3,DS4,DS5,DS6 dataSource;
    class RPME,SpeedE,FuelE,ClockE,MediaE,MessagesE emulator;
