flowchart TD
    RPM[RPM Emulator\nPort 5001]
    Speed[Speed Emulator\nPort 5002]
    Fuel[Fuel Emulator\nPort 5003]
    Clock[Clock Emulator\nPort 5004]
    Media[Media Emulator\nPort 5005]
    Messages[Messages Emulator\nPort 5006]
    
    RPMgauge[RPM Gauge]
    Speedgauge[Speed Gauge]
    Fuelgauge[Fuel Gauge]
    Clockwidget[Clock Widget]
    Mediawidget[Media Widget]
    Messageswidget[Messages Widget]
    
    UI[Main UI Loop]
    Display[Pygame Display]
    
    RPM -->|Int value\nTCP Socket| RPMgauge
    Speed -->|Float value\nTCP Socket| Speedgauge
    Fuel -->|Float value\nTCP Socket| Fuelgauge
    Clock -->|JSON\nTCP Socket| Clockwidget
    Media -->|JSON\nTCP Socket| Mediawidget
    Messages -->|JSON\nTCP Socket| Messageswidget
    
    RPMgauge --> UI
    Speedgauge --> UI
    Fuelgauge --> UI
    Clockwidget --> UI
    Mediawidget --> UI
    Messageswidget --> UI
    
    UI -->|Render all components| Display
    
    classDef emulator fill:#bfb,stroke:#3f3,stroke-width:1px;
    classDef component fill:#f9f,stroke:#333,stroke-width:2px;
    classDef system fill:#bbf,stroke:#33f,stroke-width:2px;
    
    class RPM,Speed,Fuel,Clock,Media,Messages emulator;
    class RPMgauge,Speedgauge,Fuelgauge,Clockwidget,Mediawidget,Messageswidget component;
    class UI,Display system;
